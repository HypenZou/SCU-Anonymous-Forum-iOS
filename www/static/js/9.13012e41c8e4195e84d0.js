webpackJsonp([9],{E6mc:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={shieldTag:{tags:["性相关","令人不适","政治相关","引战","未经证实"]},shieldWord:{word:[],way:0},shieldPostDislike:{method:"1"},shieldCommentDislike:{method:"3"},method:["1","1","1","1"]},a={name:"myCollect",data:function(){return{shield:{showShieldDrawer:!1,title:"",icon:"",type:1},items:[{title:"根据标签折叠 / 屏蔽帖子",icon:"mdi-tag-remove-outline",intro:"折叠 / 屏蔽加了对应标签的帖子"},{title:"根据词汇折叠 / 屏蔽帖子",icon:"mdi-alpha-a-box-outline",intro:"折叠 / 屏蔽主贴里有对应词汇的帖子"},{title:"根据举报数折叠 / 屏蔽帖子",icon:"mdi-sticker-remove-outline",intro:"折叠 / 屏蔽举报较多的帖子"},{title:"根据举报数折叠 / 屏蔽评论",icon:"mdi-comment-remove-outline",intro:"折叠 / 屏蔽举报较多的评论"}],shieldTag:{tags:[]},shieldWord:{word:[],way:0},shieldPostDislike:{method:"1"},shieldCommentDislike:{method:"3"},method:["1","1","1","1"],originWords:[]}},created:function(){var t=this,e=this;e.$request("get","/user/getConfig",{},{}).then(function(s){s=s.data;try{t.shieldTag.tags=JSON.parse(s.shieldTag),t.shieldWord.word=JSON.parse(s.shieldPostWord),t.shieldPostDislike.method=String(s.shieldPostDislike),t.shieldCommentDislike.method=String(s.shieldCommentDislike),t.method=[String(s.shieldTagMethod),String(s.shieldPostWordMethod),String(s.shieldPostDislikeMethod),String(s.shieldCommentDislikeMethod)],e.originWords=JSON.parse(s.shieldPostWord)}catch(t){setTimeout(function(){for(var t in e.showSnackbar("获取设置失败,显示原始设置"),i)e[t]=i[t];e.originWords=i.shieldWord.word},1e3)}}).catch(function(t){setTimeout(function(){for(var t in e.showSnackbar("获取设置失败,显示原始设置"),i)e[t]=i[t];e.originWords=i.shieldWord.word},1e3)})},methods:{openShieldDrawer:function(t){this.shield.showShieldDrawer=!0,this.shield.title=this.items[t].title,this.shield.icon=this.items[t].icon,this.shield.type=t+1},updateConfig:function(t){console.log(t);var e=this;if(1==t&&e.$request("post","/user/updateConfig",{},{shieldTag:this.shieldTag.tags,shieldTagMethod:this.method[t-1]}).then(function(t){e.showSnackbar("更新设置成功!","ok")}).catch(function(t){console.log(t),e.showSnackbar("更新设置失败")}),2==t){var s=this.shieldWord.word.map(function(t){return t.text});if(console.log(e.originWords,s),s.length==e.originWords.length)return void e.showSnackbar("不能提交相同屏蔽词（如果输入了，请按下回车键确认输入词汇）","error",6e3);e.$request("post","/user/updateConfig",{},{shieldPostWord:s,shieldPostWordMethod:this.method[t-1]}).then(function(t){e.showSnackbar("更新设置成功!","ok")}).catch(function(t){console.log(t),e.showSnackbar("更新设置失败")})}3==t&&e.$request("post","/user/updateConfig",{},{shieldPostDislike:this.shieldPostDislike.method,shieldPostDislikeMethod:this.method[t-1]}).then(function(t){e.showSnackbar("更新设置成功!","ok")}).catch(function(t){console.log(t),e.showSnackbar("更新设置失败")}),4==t&&e.$request("post","/user/updateConfig",{},{shieldCommentDislike:this.shieldCommentDislike.method,shieldCommentDislikeMethod:this.method[t-1]}).then(function(t){e.showSnackbar("更新设置成功!","ok")}).catch(function(t){console.log(t),e.showSnackbar("更新设置失败")})},rightSlide:function(){this.$router.go(-1)}},watch:{"shield.showShieldDrawer":function(t){this.$store.change_drawer(t,"shieldDrawer")},"$store.state.drawer":function(t){"shieldDrawer"==this.$store.state.drawerName&&(this.shield.showShieldDrawer=t)},"shieldWord.word":function(t,e){if(t.length!==e.length)return t.slice(-1)[0].length>10?(this.showSnackbar("不能超过十个字"),void(this.shieldWord.word=t.slice(0,t.length-1))):t.length>15?(this.showSnackbar("最多设置十五个屏蔽词"),void(this.shieldWord.word=t.slice(0,t.length-1))):void(this.shieldWord.word=t.map(function(t){return"string"==typeof t&&(t={text:t,color:["green","purple","indigo","cyan","teal","orange","red","deep-purple","blue","green","lime","amber"][Math.floor(12*Math.random())]}),t}))}},directives:{touch:s("0T5Q").a}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"touch",rawName:"v-touch:swiperight",value:t.rightSlide,expression:"rightSlide",arg:"swiperight"}],staticClass:"d-flex flex-column px-0",staticStyle:{"margin-top":"env(safe-area-inset-top)"},attrs:{app:""}},[s("v-app-bar",{staticClass:"top",staticStyle:{"margin-top":"env(safe-area-inset-top)"},attrs:{fixed:"",app:"",color:"white"}},[s("v-btn",{staticClass:"mt-2",attrs:{fab:"",text:"",small:""},on:{click:function(e){return t.$router.back(-1)}}},[s("v-icon",{attrs:{large:""}},[t._v("mdi-arrow-left")])],1),t._v(" "),s("span",{staticClass:"text_middle mt-2"},[t._v("我的设置")])],1),t._v(" "),s("div",{staticClass:"container_myConfig"},[s("v-list",{attrs:{"two-line":""}},t._l(t.items,function(e,i){return s("div",{key:i},[s("v-list-item",{on:{click:function(e){return t.openShieldDrawer(i)}}},[s("v-list-item-avatar",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))]),t._v(" "),s("v-list-item-subtitle",[t._v(t._s(e.intro))])],1)],1),t._v(" "),s("v-divider")],1)}),0),t._v(" "),s("div",{staticClass:"config_intro text_small-"},[s("v-icon",{attrs:{color:"primary"}},[t._v("mdi-tag-text")]),t._v(" "),s("span",{staticClass:"text_thick text_middle--"},[t._v("折叠与屏蔽说明")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)],1)],1),t._v(" "),s("v-navigation-drawer",{attrs:{fixed:"",bottom:"",dark:"",touchless:""},model:{value:t.shield.showShieldDrawer,callback:function(e){t.$set(t.shield,"showShieldDrawer",e)},expression:"shield.showShieldDrawer"}},[s("v-card",{staticStyle:{"background-color":"#363636"},attrs:{flat:""}},[s("v-card-title",[s("v-icon",[t._v(t._s(t.shield.icon))]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v(t._s(t.shield.title))])],1),t._v(" "),s("v-divider"),t._v(" "),"根据标签折叠 / 屏蔽帖子"==t.shield.title?s("v-card-text",[s("div",[s("span",[t._v("我们将会折叠 / 屏蔽加了对应标签的帖子")]),t._v(" "),s("v-checkbox",{attrs:{label:"性相关",value:"性相关",color:"primary"},model:{value:t.shieldTag.tags,callback:function(e){t.$set(t.shieldTag,"tags",e)},expression:"shieldTag.tags"}}),t._v(" "),s("v-checkbox",{staticClass:"mt-n3",attrs:{label:"令人不适",value:"令人不适",color:"primary"},model:{value:t.shieldTag.tags,callback:function(e){t.$set(t.shieldTag,"tags",e)},expression:"shieldTag.tags"}}),t._v(" "),s("v-checkbox",{staticClass:"mt-n3",attrs:{label:"政治相关",value:"政治相关",color:"primary"},model:{value:t.shieldTag.tags,callback:function(e){t.$set(t.shieldTag,"tags",e)},expression:"shieldTag.tags"}}),t._v(" "),s("v-checkbox",{staticClass:"mt-n3",attrs:{label:"引战",value:"引战",color:"primary"},model:{value:t.shieldTag.tags,callback:function(e){t.$set(t.shieldTag,"tags",e)},expression:"shieldTag.tags"}}),t._v(" "),s("v-checkbox",{staticClass:"mt-n3",attrs:{label:"未经证实",value:"未经证实",color:"primary"},model:{value:t.shieldTag.tags,callback:function(e){t.$set(t.shieldTag,"tags",e)},expression:"shieldTag.tags"}})],1)]):t._e(),t._v(" "),"根据词汇折叠 / 屏蔽帖子"==t.shield.title?s("v-card-text",{staticClass:"pb-0 mb-0"},[s("div",[s("span",[t._v("\n            我们将会折叠 / 屏蔽楼主主楼里（标题和内容）含有对应词汇的帖子\n            "),s("br")]),t._v(" "),s("span",[s("strong",[t._v("『说明』")]),t._v(" "),s("br")]),t._v(" "),s("span",[t._v("\n            在分词时候采用了隐马尔科夫模型+动态词典\n            "),s("br")]),t._v(" "),s("span",[t._v("\n            有一定的新词预测能力\n            "),s("br")]),t._v(" "),s("span",[t._v("但是开发者技术和数据集有限,仍然会出现一定比例的错误匹配现象")]),t._v(" "),s("br"),t._v(" "),s("span",[t._v("\n            所以屏蔽词请\n            "),s("strong",[t._v("尽量避免一个字的词")]),t._v(",还望用户谅解\n          ")])]),t._v(" "),s("v-combobox",{staticClass:"mt-4",attrs:{"hide-selected":"",label:"输入需要屏蔽的词汇",multiple:"","small-chips":"",solo:""},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.attrs,a=e.item,o=e.parent;return[a===Object(a)?s("v-chip",t._b({attrs:{color:a.color+" darken-1",label:"",small:""}},"v-chip",i,!1),[s("span",{staticClass:"pr-2"},[t._v(t._s(a.text))]),t._v(" "),s("v-icon",{attrs:{small:""},on:{click:function(t){return o.selectItem(a)}}},[t._v("mdi-close")])],1):t._e()]}}],null,!1,2617879893),model:{value:t.shieldWord.word,callback:function(e){t.$set(t.shieldWord,"word",e)},expression:"shieldWord.word"}})],1):t._e(),t._v(" "),"根据举报数折叠 / 屏蔽帖子"==t.shield.title?s("v-card-text",{staticClass:"mb-0 pb-0"},[s("div",[s("span",[t._v("我们将根据您自定义的举报数 / 浏览量或绝对举报数来屏蔽或折叠对应帖子")]),t._v(" "),s("br"),t._v(" "),s("span",[s("strong",[t._v("『说明』")])]),t._v(" "),s("br"),t._v(" "),s("span",[t._v("触发屏蔽或折叠需要满足以下条件:")]),t._v(" "),s("br"),t._v(" "),s("li",{attrs:{type:"circle"}},[t._v("帖子浏览量>200次")]),t._v(" "),s("li",{attrs:{type:"circle"}},[t._v("\n            举报数 / 浏览量>定义比值\n            "),s("strong",[t._v("或")]),t._v(" 举报数>绝对数值\n          ")])]),t._v(" "),s("v-radio-group",{staticClass:"mb-0 pb-0",attrs:{row:""},model:{value:t.shieldPostDislike.method,callback:function(e){t.$set(t.shieldPostDislike,"method",e)},expression:"shieldPostDislike.method"}},[s("v-radio",{attrs:{label:"举报数 / 浏览量 >0.1 ",value:"1",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"举报数 / 浏览量 >0.2 ",value:"2",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"举报数 / 浏览量 >0.3 ",value:"3",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"举报数 / 浏览量 >0.4 ",value:"4",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"举报数 / 浏览量 >0.5 ",value:"5",color:"primary"}}),t._v(" "),s("div",{staticClass:"d-flex flex-wrap"},[s("v-radio",{attrs:{label:"举报数 > 5  ",value:"6",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"举报数 > 10 ",value:"7",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"举报数 > 20 ",value:"8",color:"primary"}})],1)],1)],1):t._e(),t._v(" "),"根据举报数折叠 / 屏蔽评论"==t.shield.title?s("v-card-text",{staticClass:"mb-0 pb-0"},[s("div",[s("span",[t._v("我们将根据您自定义的举报数来屏蔽或折叠对应评论")]),t._v(" "),s("br"),t._v(" "),s("span",[s("strong",[t._v("『说明』")])]),t._v(" "),s("br"),t._v(" "),s("span",[t._v("\n            由于开发时间和技术原因,我们没有统计每个评论的浏览量\n            "),s("v-icon",{staticClass:"mt-n1",attrs:{small:""}},[t._v("mdi-emoticon-cry-outline")])],1),t._v(" "),s("br"),t._v(" "),s("span",[t._v("所以没法提供举报数 / 浏览量的过滤方式")]),t._v(" "),s("br"),t._v(" "),s("span",[t._v("还望用户海涵")])]),t._v(" "),s("v-radio-group",{staticClass:"mb-0 pb-0",attrs:{column:""},model:{value:t.shieldCommentDislike.method,callback:function(e){t.$set(t.shieldCommentDislike,"method",e)},expression:"shieldCommentDislike.method"}},[s("v-radio",{attrs:{label:"举报数 > 5  ",value:"1",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"举报数 > 10 ",value:"2",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"举报数 > 20 ",value:"3",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"举报数 > 40 ",value:"4",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"举报数 > 80 ",value:"5",color:"primary"}})],1)],1):t._e(),t._v(" "),s("v-card-actions",{staticClass:"mt-n4"},[s("v-spacer"),t._v(" "),s("v-radio-group",{staticClass:"mr-2",attrs:{row:""},model:{value:t.method[t.shield.type-1],callback:function(e){t.$set(t.method,t.shield.type-1,e)},expression:"method[shield.type-1]"}},[s("v-radio",{attrs:{label:"折叠",value:"1",color:"primary"}}),t._v(" "),s("v-radio",{attrs:{label:"屏蔽",value:"2",color:"primary"}})],1),t._v(" "),s("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:function(e){return t.updateConfig(t.shield.type)}}},[s("v-icon",[t._v("mdi-send")]),t._v(" "),s("span",[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("strong",[e("span",[this._v('"折叠"')])]),this._v(" "),e("span",[this._v("\n            是指在帖子列表\n            / 评论列表不显示具体帖子 / 评论内容, 点击后折叠展开显示具体内容。\n          ")])]),this._v(" "),e("li",[e("strong",[e("span",[this._v('"屏蔽"')])]),this._v(" "),e("span",[this._v("\n            是指在帖子列表\n            / 评论列表前端不显示该帖子 / 评论。\n          ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[e("span",[this._v('\n            社区默认折叠有"性相关",\n            "引战", "令人不适", "政治相关",\n            "未经证实"标签的帖子。\n          ')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[e("span",[this._v("\n            社区默认折叠举报数÷浏览量\n            > 0.2 的帖子。\n          ")])]),this._v(" "),e("li",[e("span",[this._v("\n            社区默认折叠举报数 > 10\n            的帖子。\n          ")])]),this._v(" "),e("li",[e("span",[this._v('用户可以在"个人中心"-"我的设置"中自定义过滤规则。')])])])}]};var l=s("C7Lr")(a,o,!1,function(t){s("IqSV")},null,null);e.default=l.exports},IqSV:function(t,e){}});
//# sourceMappingURL=9.13012e41c8e4195e84d0.js.map
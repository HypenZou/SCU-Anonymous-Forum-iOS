{"version":3,"sources":["webpack:///src/view/personalCenter/myCollect.vue","webpack:///./src/view/personalCenter/myCollect.vue?ba26","webpack:///./src/view/personalCenter/myCollect.vue"],"names":["myCollect","name","components","MescrollVue","_mescroll_js_1_4_2_mescroll_js_mescroll","data","myCollects","snackbar","show","message","color","map","mescrollDown","callback","this","refreshData","use","mescrollUp","getMoreData","noMoreSize","empty","warpId","icon","tip","btntext","btnClick","supportTap","created","methods","rightSlide","$router","go","timeFormat","latest_comment_time","t","Math","floor","Date","getTime","d","h","m","s","res","toJSON","substr","replace","mescroll","that","$request","timeToken","then","endSuccess","length","catch","e","endErr","page","time","created_time","_that$myCollects","num","push","apply","toConsumableArray_default","directives","touch","personalCenter_myCollect","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin-top","attrs","fixed","app","fab","text","small","on","click","$event","back","large","_v","rawName","value","expression","arg","ref","down","up","id","_l","item","i","key","width","flat","rounded","path","query","size","src","avatar","alt","_s","title","content","bottom","model","$$v","$set","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.2484a9f5f827d0d6b758.js","sourcesContent":["<template>\n  <div class=\"d-flex flex-column px-0\">\n    <v-app-bar\n      fixed\n      class=\"top \"\n      style=\"margin-top:env(safe-area-inset-top);\"\n      app\n      color=\"white\"\n    >\n      <v-btn fab text small @click=\"$router.back(-1)\" class=\"mt-2\">\n        <v-icon large>mdi-arrow-left</v-icon>\n      </v-btn>\n      <span class=\"text_middle mt-2\">我的收藏</span>\n    </v-app-bar>\n\n    <div\n      class=\"mescroll_container_historyPosts\"\n      ref=\"viewBox\"\n      v-touch:swiperight=\"rightSlide\"\n    >\n      <mescroll-vue ref=\"mescroll\" :down=\"mescrollDown\" :up=\"mescrollUp\">\n        <div id=\"noMoreDataWrap\"></div>\n        <v-card\n          color=\"white\"\n          width=\"100%\"\n          class=\"mt-2\"\n          flat\n          rounded\n          v-for=\"(item, i) in myCollects\"\n          :key=\"i\"\n          @click=\"\n            $router.push({\n              path: '/postDetail',\n              query: { id: item.id }\n            })\n          \"\n        >\n          <v-card-text class=\"d-flex flex-column pt-2 pb-4\">\n            <div class=\"d-flex\">\n              <v-avatar size=\"40\" class=\"ml-3 mb-1\">\n                <img :src=\"item.avatar\" alt=\"头像\" />\n              </v-avatar>\n              <div class=\"d-flex flex-column\">\n                <span class=\"text_small-- text_thick ml-2\"\n                  >#{{ item.name }}</span\n                >\n                <span class=\"text_small--- ml-2 grey--text mt-n1\">{{\n                  timeFormat(item.created_time)\n                }}</span>\n              </div>\n            </div>\n            <span class=\"text_small-- black--text\">\n              <span class=\"text_thick\">【帖子】 {{ item.title }}</span>\n            </span>\n            <div class=\"grey_background_historyPosts pa-1\">\n              <span class=\"text_thick\">【内容】:</span>\n              <span class=\"black--text\">{{ item.content }}</span>\n            </div>\n          </v-card-text>\n        </v-card>\n      </mescroll-vue>\n    </div>\n    <v-snackbar v-model=\"snackbar.show\" bottom :color=\"snackbar.color\">{{\n      snackbar.message\n    }}</v-snackbar>\n  </div>\n</template>\n\n<script>\nimport map from \"@/map/map.js\";\nimport MescrollVue from \"mescroll.js/mescroll.vue\";\nimport touch from \"../../utils/touch\";\n\nexport default {\n  name: \"myCollect\",\n  components: {\n    MescrollVue // 注册mescroll组件\n  },\n  data() {\n    return {\n      myCollects: [],\n      snackbar: {\n        show: false,\n        message: \"\",\n        color: \"grey-darken3\"\n      },\n      map: map,\n      mescrollDown: {\n        callback: this.refreshData,\n        use: true\n      },\n      mescrollUp: {\n        callback: this.getMoreData,\n        noMoreSize: 3,\n        empty: {\n          warpId: \"noMoreDataWrap\",\n          icon: null,\n          tip: \"暂无收藏帖子\",\n          btntext: \"\",\n          btnClick: null,\n          supportTap: false\n        }\n      }\n    };\n  },\n  created() {},\n  methods: {\n    rightSlide() {\n      this.$router.go(-1);\n    },\n    //计算时间差\n    timeFormat(latest_comment_time) {\n      //一共这么多秒前\n      let t = Math.floor(\n        (new Date().getTime() - new Date(latest_comment_time).getTime()) / 1000\n      );\n      const d = Math.floor(t / 3600 / 24);\n      const h = Math.floor(t / 3600) % 24;\n      const m = Math.floor(t / 60) % 60;\n      const s = Math.floor(t % 60);\n      let res = \"\";\n      if (s > 0 && m == 0 && h == 0 && d == 0) {\n        res = s + \"秒前\";\n      } else if (m > 0 && h == 0 && d == 0) {\n        res = m + \"分钟前\";\n      } else if (h > 0 && d == 0) {\n        res = h + \"小时前\";\n      } else {\n        let date = new Date(\n          new Date(latest_comment_time).getTime() + 8 * 3600 * 1000\n        );\n        return date\n          .toJSON()\n          .substr(0, 16)\n          .replace(\"T\", \" \");\n      }\n      return res;\n    },\n    refreshData(mescroll) {\n      let that = this;\n      that\n        .$request(\"get\", \"/forum/getMyCollect\", {\n          timeToken: new Date().getTime()\n        })\n        .then(res => {\n          that.myCollects = res.data;\n          mescroll.endSuccess(res.data.length);\n        })\n        .catch(e => {\n          mescroll.endErr();\n        });\n    },\n    getMoreData(page, mescroll) {\n      let that = this;\n      let time =\n        that.myCollects.length > 0\n          ? new Date(\n              that.myCollects[that.myCollects.length - 1].created_time\n            ).getTime()\n          : new Date().getTime();\n      that\n        .$request(\"get\", \"/forum/getMyCollect\", { timeToken: time })\n        .then(res => {\n          if (page.num === 1) that.myCollects = [];\n          that.myCollects.push(...res.data);\n          mescroll.endSuccess(res.data.length);\n        })\n        .catch(e => {\n          mescroll.endErr();\n        });\n    }\n  },\n  directives: {\n    touch\n  }\n};\n</script>\n\n<style>\n.main_container_historyPosts {\n  margin-top: 50px;\n}\n.grey_background_historyPosts {\n  background-color: #f5f5f5;\n  border-radius: 10px;\n  width: 90%;\n}\n.mescroll_container_historyPosts {\n  position: fixed;\n  top: calc(60px+env(safe-area-inset-top));\n  bottom: 0;\n  height: auto; /*如设置bottom:50px,则需height:auto才能生效*/\n  width: 100%;\n  background-color: #f5f5f5;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/personalCenter/myCollect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-column px-0\"},[_c('v-app-bar',{staticClass:\"top \",staticStyle:{\"margin-top\":\"env(safe-area-inset-top)\"},attrs:{\"fixed\":\"\",\"app\":\"\",\"color\":\"white\"}},[_c('v-btn',{staticClass:\"mt-2\",attrs:{\"fab\":\"\",\"text\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$router.back(-1)}}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"mdi-arrow-left\")])],1),_vm._v(\" \"),_c('span',{staticClass:\"text_middle mt-2\"},[_vm._v(\"我的收藏\")])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"touch\",rawName:\"v-touch:swiperight\",value:(_vm.rightSlide),expression:\"rightSlide\",arg:\"swiperight\"}],ref:\"viewBox\",staticClass:\"mescroll_container_historyPosts\"},[_c('mescroll-vue',{ref:\"mescroll\",attrs:{\"down\":_vm.mescrollDown,\"up\":_vm.mescrollUp}},[_c('div',{attrs:{\"id\":\"noMoreDataWrap\"}}),_vm._v(\" \"),_vm._l((_vm.myCollects),function(item,i){return _c('v-card',{key:i,staticClass:\"mt-2\",attrs:{\"color\":\"white\",\"width\":\"100%\",\"flat\":\"\",\"rounded\":\"\"},on:{\"click\":function($event){return _vm.$router.push({\n            path: '/postDetail',\n            query: { id: item.id }\n          })}}},[_c('v-card-text',{staticClass:\"d-flex flex-column pt-2 pb-4\"},[_c('div',{staticClass:\"d-flex\"},[_c('v-avatar',{staticClass:\"ml-3 mb-1\",attrs:{\"size\":\"40\"}},[_c('img',{attrs:{\"src\":item.avatar,\"alt\":\"头像\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"d-flex flex-column\"},[_c('span',{staticClass:\"text_small-- text_thick ml-2\"},[_vm._v(\"#\"+_vm._s(item.name))]),_vm._v(\" \"),_c('span',{staticClass:\"text_small--- ml-2 grey--text mt-n1\"},[_vm._v(_vm._s(_vm.timeFormat(item.created_time)))])])],1),_vm._v(\" \"),_c('span',{staticClass:\"text_small-- black--text\"},[_c('span',{staticClass:\"text_thick\"},[_vm._v(\"【帖子】 \"+_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"grey_background_historyPosts pa-1\"},[_c('span',{staticClass:\"text_thick\"},[_vm._v(\"【内容】:\")]),_vm._v(\" \"),_c('span',{staticClass:\"black--text\"},[_vm._v(_vm._s(item.content))])])])],1)})],2)],1),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"bottom\":\"\",\"color\":_vm.snackbar.color},model:{value:(_vm.snackbar.show),callback:function ($$v) {_vm.$set(_vm.snackbar, \"show\", $$v)},expression:\"snackbar.show\"}},[_vm._v(_vm._s(_vm.snackbar.message))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-db1bd87a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/view/personalCenter/myCollect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-db1bd87a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./myCollect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./myCollect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./myCollect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-db1bd87a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./myCollect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/personalCenter/myCollect.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
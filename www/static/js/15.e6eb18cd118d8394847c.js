webpackJsonp([15],{"/NuQ":function(t,e){},igFZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("IHPB"),l=a.n(s),n=a("wst3"),i=a("0T5Q"),o={name:"replyMe",components:{MescrollVue:n.a},data:function(){return{tabs:["回复我的评论","回复我的帖子"],tab:0,ReplyMyComments:[],ReplyMyPosts:[],if_list_bottom1:!1,if_list_bottom2:!1,atTop:!0,mescrollDown1:{use:!1},mescrollUp1:{callback:this.getMoreData1,empty:{warpId:"noMoreDataWrap1",icon:null,tip:"暂无回复我的评论",btntext:"",btnClick:null,supportTap:!1}},mescrollDown2:{use:!1},mescrollUp2:{callback:this.getMoreData2,empty:{warpId:"noMoreDataWrap2",icon:null,tip:"暂无回复我的帖子",btntext:"",btnClick:null,supportTap:!1}}}},mounted:function(){},created:function(){sessionStorage.getItem("commentNumTemp")&&localStorage.setItem("commentNum",sessionStorage.getItem("commentNumTemp"))},methods:{timeFormat:function(t){var e=Math.floor(((new Date).getTime()-new Date(t).getTime())/1e3),a=Math.floor(e/3600/24),s=Math.floor(e/3600)%24,l=Math.floor(e/60)%60,n=Math.floor(e%60),i="";if(n>0&&0==l&&0==s&&0==a)i=n+"秒前";else if(l>0&&0==s&&0==a)i=l+"分钟前";else{if(!(s>0&&0==a))return new Date(new Date(t).getTime()+288e5).toJSON().substr(0,16).replace("T"," ");i=s+"小时前"}return i},getMoreData1:function(t,e){console.log("1",t);var a=this,s=a.ReplyMyComments.length>0?a.ReplyMyComments[a.ReplyMyComments.length-1].created_time:new Date;a.$request("get","/user/getReplyMyComment",{timeToken:new Date(s).getTime()}).then(function(t){var s;(s=a.ReplyMyComments).push.apply(s,l()(t.data)),e.endSuccess(t.data.length)}).catch(function(t){console.log(t),e.endErr()})},getMoreData2:function(t,e){console.log("2",t);var a=this,s=a.ReplyMyPosts.length>0?a.ReplyMyPosts[a.ReplyMyPosts.length-1].created_time:new Date;a.$request("get","/user/getReplyMyPost",{timeToken:new Date(s).getTime()}).then(function(t){var s;(s=a.ReplyMyPosts).push.apply(s,l()(t.data)),e.endSuccess(t.data.length)}).catch(function(t){console.log(t),e.endErr()})},rightSlide:function(){this.$router.go(-1)}},directives:{touch:i.a}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column px-0",staticStyle:{"margin-top":"env(safe-area-inset-top)"}},[a("v-app-bar",{staticClass:"top",staticStyle:{"margin-top":"env(safe-area-inset-top)"},attrs:{fixed:"",app:"",color:"white"}},[a("v-btn",{staticClass:"mt-2",attrs:{fab:"",text:"",small:""},on:{click:function(e){return t.$router.back(-1)}}},[a("v-icon",{attrs:{large:""}},[t._v("mdi-arrow-left")])],1),t._v(" "),a("span",{staticClass:"text_middle mt-2"},[t._v("回复我的")])],1),t._v(" "),a("div",{staticClass:"main_container_replyMe",staticStyle:{"background-color":"#f5f5f5"}},[a("v-menu",{attrs:{"offset-y":"",absolute:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,l=e.attrs;return[a("span",t._g(t._b({staticClass:"d-flex justify-end",staticStyle:{"margin-left":"50%","margin-right":"10px"}},"span",l,!1),s),[a("span",{staticClass:"mr-2 text_thick"},[t._v(t._s(t.tabs[t.tab]))]),t._v(" "),a("v-icon",[t._v("mdi-filter-variant")])],1)]}}])},[t._v(" "),a("v-list",t._l(t.tabs,function(e,s){return a("v-list-item",{key:s,on:{click:function(e){t.tab=s}}},[a("v-list-item-title",{class:t.tab==s?"red--text":""},[t._v(t._s(e))])],1)}),1)],1),t._v(" "),a("div",{directives:[{name:"touch",rawName:"v-touch:swiperight",value:t.rightSlide,expression:"rightSlide",arg:"swiperight"}],class:0==t.tab?"mescroll_container_replyMe":"d-none",staticStyle:{"background-color":"#f5f5f5"}},[a("mescroll-vue",{ref:"mescroll",attrs:{down:t.mescrollDown1,up:t.mescrollUp1}},[a("div",{attrs:{id:"noMoreDataWrap1"}}),t._v(" "),t._l(t.ReplyMyComments,function(e,s){return a("v-card",{key:s,staticClass:"mb-2",attrs:{color:"white",width:"100%",flat:"",rounded:""},on:{click:function(a){return t.$router.push({path:"/postDetail",query:{id:e.id}})}}},[a("v-card-text",{staticClass:"d-flex flex-column py-2"},[a("div",{staticClass:"d-flex"},[a("v-avatar",{staticClass:"ml-3 mb-1",attrs:{size:"40"}},[a("img",{attrs:{src:e.avatar,alt:"头像"}})]),t._v(" "),a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"text_small-- text_thick ml-2"},[t._v("#"+t._s(e.name))]),t._v(" "),a("span",{staticClass:"text_small--- ml-2 grey--text mt-n1"},[t._v("\n                    "+t._s(t.timeFormat(e.created_time))+"\n                  ")])])],1),t._v(" "),a("div",[a("span",{staticClass:"text_thick black--text"},[t._v("【回复我】:")]),t._v(" "),a("span",{staticClass:"black--text"},[t._v(t._s(e.content))])]),t._v(" "),a("div",{staticClass:"grey_background_replyMe py-2 px-2 mb-1 d-flex flex-column"},[a("span",{staticClass:"ml-2 text_small---"},[t._v("【我】："+t._s(e.my_content))]),t._v(" "),void 0!=e.my_image&&"undefined"!=e.my_image?a("v-btn",{staticClass:"ml-2",attrs:{color:"grey",outlined:"",small:"",width:"84px",height:"24px",disabled:""}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-image")]),t._v(" "),a("span",{staticClass:"ml-n1"},[t._v("[图片]")])],1):t._e()],1),t._v(" "),a("span",{staticClass:"text_small-- black--text"},[a("span",{staticClass:"text_thick"},[t._v("【帖子】")]),t._v("\n                "+t._s(e.title)+"\n              ")])])],1)})],2)],1),t._v(" "),a("div",{class:1==t.tab?"mescroll_container_replyMe":"d-none",staticStyle:{"background-color":"#f5f5f5"}},[a("mescroll-vue",{ref:"mescroll",attrs:{down:t.mescrollDown2,up:t.mescrollUp2}},[a("div",{attrs:{id:"noMoreDataWrap2"}}),t._v(" "),t._l(t.ReplyMyPosts,function(e,s){return a("v-card",{key:s,staticClass:"mb-2",attrs:{color:"white",width:"100%",flat:"",rounded:""},on:{click:function(a){return t.$router.push({path:"/postDetail",query:{id:e.id}})}}},[a("v-card-text",{staticClass:"d-flex flex-column py-2"},[a("div",{staticClass:"d-flex"},[a("v-avatar",{staticClass:"ml-3 mb-1",attrs:{size:"40"}},[a("img",{attrs:{src:e.avatar,alt:"头像"}})]),t._v(" "),a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"text_small-- text_thick ml-2"},[t._v("#"+t._s(e.name))]),t._v(" "),a("span",{staticClass:"text_small--- ml-2 grey--text mt-n1"},[t._v("\n                    "+t._s(t.timeFormat(e.created_time))+"\n                  ")])])],1),t._v(" "),a("div",[a("span",{staticClass:"text_thick black--text"},[t._v("【回复我】:")]),t._v(" "),a("span",{staticClass:"black--text"},[t._v(t._s(e.content))])]),t._v(" "),a("div",{staticClass:"grey_background_replyMe py-2 px-2 mb-1 d-flex flex-column"},[a("span",{staticClass:"ml-2 text_small---"},[t._v("【我的帖子】："+t._s(e.title))])])])],1)}),t._v(" "),a("div",{staticClass:"d-flex justify-center mt-2",staticStyle:{"background-color":"white"}},[t.if_list_bottom2||t.atTop?t._e():a("v-progress-circular",{staticClass:"mt-1",attrs:{indeterminate:"",color:"primary"}}),t._v(" "),t.if_list_bottom2?a("span",[t._v("已经到底啦")]):t._e()],1)],2)],1)],1)],1)},staticRenderFns:[]};var c=a("C7Lr")(o,r,!1,function(t){a("/NuQ")},null,null);e.default=c.exports}});
//# sourceMappingURL=15.e6eb18cd118d8394847c.js.map